# 取り組んだこと
- Docker
- rails環境構築

# 学んだこと
## apt-get関連（Linuxパッケージ管理）
- apt-get は、Ubuntu/Debian系で使う「ソフトウェアをインストール・更新するコマンド」。
- apt-get update は、リポジトリ（/etc/apt/sources.list）の最新情報を取得するだけ。
→ ソフト自体を更新するわけではない。
- apt-get install は、実際にパッケージをインストールする。
- qq は「出力を静かにする」オプション（Quiet）。
- && は、「前のコマンドが成功したら次を実行する」連結記号。ruby,js構文と同じイメージ

## Gemfile と Gemfile.lock
- bundle install は、Gemfile.lockを見て完全に同じ環境を再現する。
- もし Gemfile.lock がなければ、新規にバージョンを解決して作成する

## Dockerレイヤー構造
- Dockerfile の命令1つ1つが「レイヤー」と呼ばれるスナップショットになる。
- レイヤーはキャッシュとして再利用される。
- 同じ命令＋同じ入力ならキャッシュがヒットし、再ビルドしなくて済む。
- ケーキのように差分が積み重なっているイメージ

## COPYの順番の理由
- よくある構成
```
COPY Gemfile Gemfile.lock ./
RUN bundle install
COPY . .
```
- Gemfileが変わらない限り、bundle install はキャッシュされて再実行されない。
- アプリのコード（.）が変わっても bundle install はスキップされる。
- もし COPY . . を先に書くと、コードが変わるたびに bundle install が毎回走って遅くなる。  
　→直前のCOPYでGemfile以外のコードが変わった場合、キャッシュが無効化されbundle installが実行される

# コメント
Next.js,Railsの環境構築をしようとしたが、Dockerfileだけで学ぶことがたくさんあった。まだ、Dockerfileしか書いてないので、引き続き環境構築を頑張る