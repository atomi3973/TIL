# 取り組んだこと
- rails応用10

# 学んだこと
## 1. `:environment` の意味

- `rake task:sample:hello: :environment` のように書くと、Rails アプリの **環境を初期化** してからタスクを実行する
- 初期化されると **development.rb / production.rb の全設定** が読み込まれる  
- DB や Rails.logger を使えるようになる  
- ただし、誤った設定（Rails 7 非互換な production.rb の session_store など）があると **ArgumentError** が発生する

## 2. session_store の必要性
- | Web アプリ起動 | 必須（デフォルトで cookie_store が使われる） | development.rb に書かなくても Rails 7 のデフォルトで動く |
- | rake タスク (`:environment` あり) | 初期化時に参照されるので設定が必要 | production.rb が古い設定だと ArgumentError が出る |
- | rake タスク (`:environment` なし) | 不要 | Rails 環境をロードしないので DB / Rails.logger は使えない |

## 対策  development.rb に安全な session_store を書く

```ruby
Rails.application.configure do
  config.session_store :cookie_store, key: "_my_app_session"
end
```


# コメント
rails応用10に取り組み. 
cronの設定で結構時間を使ってしまった。  
だが、なんとか解決したので、次こそはメール実装したい！！ 